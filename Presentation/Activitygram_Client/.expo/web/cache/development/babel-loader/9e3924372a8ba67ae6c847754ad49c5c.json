{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useLayoutEffect, useState } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { useNavigation } from '@react-navigation/native';\nimport { useHeaderHeight } from '@react-navigation/stack';\nimport { useTheme, useTranslation } from \"../hooks\";\nimport { Block, Image, Checkbox, Input, Text, Button } from \"../components\";\nimport 'react-native-gesture-handler';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var url = Platform.OS === 'android' ? 'http://10.0.2.2:8080/' : 'http://127.0.0.1/8080/';\n\nfunction sendNewSearch(params) {\n  var formBodyArray, property, encodedKey, encodedValue, formBody;\n  return _regeneratorRuntime.async(function sendNewSearch$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(\"\\nin onPressSearch(params)\");\n          formBodyArray = [];\n\n          for (property in params) {\n            encodedKey = encodeURIComponent(property);\n            encodedValue = encodeURIComponent(params[property]);\n            formBodyArray.push(encodedKey + '=' + encodedValue);\n          }\n\n          formBody = formBodyArray.join('&');\n          fetch(url + 'search', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n            },\n            body: formBody\n          }).then(function (res) {\n            console.log(\"res = \" + JSON.stringify(res));\n            console.log('sent request');\n          }).catch(function (err) {\n            console.log('error');\n          });\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nvar Gallery = function Gallery() {\n  var _useTheme = useTheme(),\n      assets = _useTheme.assets,\n      sizes = _useTheme.sizes;\n\n  var IMAGE_SIZE = (sizes.width - (sizes.padding + sizes.sm) * 2) / 3;\n  var IMAGE_VERTICAL_SIZE = (sizes.width - (sizes.padding + sizes.sm) * 2) / 2;\n  var IMAGE_MARGIN = (sizes.width - IMAGE_SIZE * 3 - sizes.padding * 2) / 2;\n  var IMAGE_VERTICAL_MARGIN = (sizes.width - (IMAGE_VERTICAL_SIZE + sizes.sm) * 2) / 2;\n  return _jsxs(Block, {\n    marginTop: sizes.m,\n    paddingHorizontal: sizes.padding,\n    children: [_jsxs(Block, {\n      children: [_jsxs(Block, {\n        row: true,\n        align: \"center\",\n        justify: \"space-between\",\n        children: [_jsx(Text, {\n          h5: true,\n          semibold: true,\n          children: \"Sport\"\n        }), _jsx(Button, {\n          children: _jsx(Text, {\n            p: true,\n            primary: true,\n            semibold: true,\n            children: \"View all\"\n          })\n        })]\n      }), _jsxs(Block, {\n        row: true,\n        justify: \"space-between\",\n        wrap: \"wrap\",\n        children: [_jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        })]\n      })]\n    }), _jsxs(Block, {\n      children: [_jsxs(Block, {\n        row: true,\n        align: \"center\",\n        justify: \"space-between\",\n        children: [_jsx(Text, {\n          h5: true,\n          semibold: true,\n          children: \"Celebrations\"\n        }), _jsx(Button, {\n          children: _jsx(Text, {\n            p: true,\n            primary: true,\n            semibold: true,\n            children: \"View all\"\n          })\n        })]\n      }), _jsxs(Block, {\n        row: true,\n        justify: \"space-between\",\n        wrap: \"wrap\",\n        children: [_jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        }), _jsx(Image, {\n          resizeMode: \"cover\",\n          source: assets == null ? void 0 : assets.background,\n          marginBottom: IMAGE_MARGIN,\n          style: {\n            height: IMAGE_SIZE,\n            width: IMAGE_SIZE\n          }\n        })]\n      })]\n    })]\n  });\n};\n\nvar boxData = {\n  \"Users\": false,\n  \"Activities\": false,\n  \"Groups\": false\n};\n\nvar Search = function Search() {\n  var _useTheme2 = useTheme(),\n      assets = _useTheme2.assets,\n      sizes = _useTheme2.sizes,\n      gradients = _useTheme2.gradients,\n      colors = _useTheme2.colors;\n\n  var navigation = useNavigation();\n  var headerHeight = useHeaderHeight();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isCheckedUsers = _useState2[0],\n      setIsCheckedUsers = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isCheckedActivities = _useState4[0],\n      setIsCheckedActivities = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isCheckedGroups = _useState6[0],\n      setIsCheckedGroups = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      title = _useState8[0],\n      setTitle = _useState8[1];\n\n  var onPressSearch = function onPressSearch() {\n    console.log(\"\\nin const search\");\n    var params = {\n      title: title,\n      searchUsers: boxData[\"Users\"],\n      searchActivities: boxData[\"Activities\"],\n      searchGroups: boxData[\"Groups\"]\n    };\n    sendNewSearch(params);\n  };\n\n  function storeCheckData(boxName, state) {\n    return _regeneratorRuntime.async(function storeCheckData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            boxData[boxName] = state;\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerBackground: function headerBackground() {\n        return _jsx(Image, {\n          radius: 0,\n          resizeMode: \"cover\",\n          width: sizes.width,\n          height: headerHeight,\n          source: assets.background\n        });\n      }\n    });\n  }, [assets.background, navigation, sizes.width, headerHeight]);\n  var IMAGE_SIZE = (sizes.width - (sizes.padding + sizes.sm) * 2) / 3;\n  var IMAGE_VERTICAL_SIZE = (sizes.width - (sizes.padding + sizes.sm) * 2) / 2;\n  var IMAGE_MARGIN = (sizes.width - IMAGE_SIZE * 3 - sizes.padding * 2) / 2;\n  var IMAGE_VERTICAL_MARGIN = (sizes.width - (IMAGE_VERTICAL_SIZE + sizes.sm) * 2) / 2;\n  return _jsxs(Block, {\n    safe: true,\n    children: [_jsxs(Block, {\n      justify: \"space-between\",\n      marginBottom: sizes.xxl,\n      color: colors.card,\n      flex: 0.8,\n      padding: sizes.base,\n      children: [_jsx(Input, {\n        search: true,\n        placeholder: t('common.search'),\n        marginBottom: sizes.sm,\n        onChangeText: function onChangeText(newText) {\n          setTitle(newText);\n        }\n      }), _jsx(Checkbox, {\n        checked: isCheckedUsers,\n        onPress: function onPress() {\n          setIsCheckedUsers(!isCheckedUsers), storeCheckData('Users', !isCheckedUsers);\n        }\n      }), _jsx(Text, {\n        children: \"Users\"\n      }), _jsx(Checkbox, {\n        checked: isCheckedActivities,\n        onPress: function onPress() {\n          setIsCheckedActivities(!isCheckedActivities), storeCheckData('Activities', !isCheckedActivities);\n        }\n      }), _jsx(Text, {\n        children: \"Activities\"\n      }), _jsx(Checkbox, {\n        checked: isCheckedGroups,\n        onPress: function onPress() {\n          setIsCheckedGroups(!isCheckedGroups), storeCheckData('Groups', !isCheckedGroups);\n        }\n      }), _jsx(Text, {\n        children: \"Groups\"\n      }), _jsx(Button, {\n        flex: 1,\n        gradient: gradients.info,\n        marginBottom: sizes.base,\n        onPress: function onPress() {\n          onPressSearch();\n        },\n        children: _jsx(Text, {\n          white: true,\n          bold: true,\n          transform: \"uppercase\",\n          children: \"search\"\n        })\n      })]\n    }), _jsx(Block, {\n      scroll: true,\n      showsVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        paddingVertical: sizes.padding\n      },\n      children: _jsx(Block, {\n        children: _jsx(Gallery, {})\n      })\n    })]\n  });\n};\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/shirz/Documents/GitHub/Activitygram/Presentation/Activitygram_Client/src/screens/Search.tsx"],"names":["React","useLayoutEffect","useState","useNavigation","useHeaderHeight","useTheme","useTranslation","Block","Image","Checkbox","Input","Text","Button","url","Platform","OS","sendNewSearch","params","console","log","formBodyArray","property","encodedKey","encodeURIComponent","encodedValue","push","formBody","join","fetch","method","headers","body","then","res","JSON","stringify","catch","err","Gallery","assets","sizes","IMAGE_SIZE","width","padding","sm","IMAGE_VERTICAL_SIZE","IMAGE_MARGIN","IMAGE_VERTICAL_MARGIN","m","background","height","boxData","Search","gradients","colors","navigation","headerHeight","t","isCheckedUsers","setIsCheckedUsers","isCheckedActivities","setIsCheckedActivities","isCheckedGroups","setIsCheckedGroups","title","setTitle","onPressSearch","searchUsers","searchActivities","searchGroups","storeCheckData","boxName","state","setOptions","headerBackground","xxl","card","base","newText","info","paddingVertical"],"mappings":"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","sourcesContent":["import React, {useLayoutEffect, useState } from 'react';\r\nimport { Platform } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useHeaderHeight } from '@react-navigation/stack';\r\nimport { useTheme, useTranslation } from '../hooks';\r\nimport { Block, Image, Checkbox, Input, Text, Button } from '../components';\r\nimport 'react-native-gesture-handler';\r\nexport const url = Platform.OS === 'android' ? 'http://10.0.2.2:8080/' : 'http://127.0.0.1/8080/';\r\n\r\nasync function sendNewSearch(params: object) {\r\n  console.log(`\\nin onPressSearch(params)`)\r\n\tlet formBodyArray = [];\r\n  for (var property in params) {\r\n    var encodedKey = encodeURIComponent(property);\r\n    var encodedValue = encodeURIComponent(params[property]);\r\n    formBodyArray.push(encodedKey + '=' + encodedValue);\r\n  }\r\n\tlet formBody = formBodyArray.join('&');\r\n\tfetch(url + 'search', {\r\n\t\tmethod: 'POST',\r\n\t\theaders: { 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },\r\n\t\tbody: formBody\r\n\t})\r\n\t\t.then((res) => {\r\n      console.log(`res = ${JSON.stringify(res)}`)\r\n\t\t\tconsole.log('sent request');\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log('error');\r\n\t\t});\r\n}\r\n\r\nconst Gallery = () => {\r\n    const {assets, sizes} = useTheme();\r\n    const IMAGE_SIZE = (sizes.width - (sizes.padding + sizes.sm) * 2) / 3;\r\n    const IMAGE_VERTICAL_SIZE =\r\n      (sizes.width - (sizes.padding + sizes.sm) * 2) / 2;\r\n    const IMAGE_MARGIN = (sizes.width - IMAGE_SIZE * 3 - sizes.padding * 2) / 2;\r\n    const IMAGE_VERTICAL_MARGIN =\r\n      (sizes.width - (IMAGE_VERTICAL_SIZE + sizes.sm) * 2) / 2;\r\n  \r\n    return (\r\n      <Block marginTop={sizes.m} paddingHorizontal={sizes.padding}>\r\n        <Block>\r\n          <Block row align=\"center\" justify=\"space-between\">\r\n            <Text h5 semibold>\r\n              Sport\r\n            </Text>\r\n            <Button>\r\n              <Text p primary semibold>\r\n                View all\r\n              </Text>\r\n            </Button>\r\n          </Block>\r\n        <Block row justify=\"space-between\" wrap=\"wrap\">\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n          </Block>\r\n        </Block>\r\n\r\n        <Block>\r\n          <Block row align=\"center\" justify=\"space-between\">\r\n            <Text h5 semibold>\r\n              Celebrations\r\n            </Text>\r\n            <Button>\r\n              <Text p primary semibold>\r\n                View all\r\n              </Text>\r\n            </Button>\r\n          </Block>\r\n        <Block row justify=\"space-between\" wrap=\"wrap\">\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n            <Image\r\n              resizeMode=\"cover\"\r\n              source={assets?.background}\r\n              marginBottom={IMAGE_MARGIN}\r\n              style={{\r\n                height: IMAGE_SIZE,\r\n                width: IMAGE_SIZE,\r\n              }}\r\n            />\r\n          </Block>\r\n        </Block>\r\n      </Block>\r\n    );\r\n  };\r\n\r\nvar boxData = { \"Users\": false,\r\n                \"Activities\": false,\r\n                \"Groups\": false}\r\n\r\nconst Search = () => {\r\n  const {assets, sizes,gradients, colors } = useTheme();\r\n  const navigation = useNavigation();\r\n  const headerHeight = useHeaderHeight();\r\n  const {t} = useTranslation();\r\n  const [isCheckedUsers, setIsCheckedUsers] = useState(false);\r\n  const [isCheckedActivities, setIsCheckedActivities] = useState(false);\r\n  const [isCheckedGroups, setIsCheckedGroups] = useState(false);\r\n  const [title, setTitle] = useState('')\r\n\r\n  const onPressSearch = () => {\r\n    console.log(`\\nin const search`)\r\n    let params = {\r\n      title: title,\r\n      searchUsers : boxData[\"Users\"],\r\n      searchActivities : boxData[\"Activities\"],\r\n      searchGroups : boxData[\"Groups\"]\r\n    }\r\n    sendNewSearch(params);\r\n  }\r\n  async function storeCheckData(boxName, state) {\r\n    boxData[boxName] = state\r\n  }\r\n\r\n\r\n  useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerBackground: () => (\r\n        <Image\r\n          radius={0}\r\n          resizeMode=\"cover\"\r\n          width={sizes.width}\r\n          height={headerHeight}\r\n          source={assets.background}\r\n        />\r\n      ),\r\n    });\r\n  }, [assets.background, navigation, sizes.width, headerHeight]);\r\n  const IMAGE_SIZE = (sizes.width - (sizes.padding + sizes.sm) * 2) / 3;\r\n  const IMAGE_VERTICAL_SIZE =\r\n    (sizes.width - (sizes.padding + sizes.sm) * 2) / 2;\r\n  const IMAGE_MARGIN = (sizes.width - IMAGE_SIZE * 3 - sizes.padding * 2) / 2;\r\n  const IMAGE_VERTICAL_MARGIN =\r\n    (sizes.width - (IMAGE_VERTICAL_SIZE + sizes.sm) * 2) / 2;\r\n\r\n  return (\r\n    <Block safe>\r\n    {/* search input and button*/}\r\n    <Block justify=\"space-between\" marginBottom={sizes.xxl} color={colors.card} flex={0.8} padding={sizes.base}>\r\n\r\n        <Input search placeholder={t('common.search')} marginBottom={sizes.sm} \t\t\t\t\r\n          onChangeText={(newText) => { setTitle(newText) }}/>\r\n          \r\n        <Checkbox checked={isCheckedUsers} onPress={() => {setIsCheckedUsers(!isCheckedUsers), storeCheckData('Users', !isCheckedUsers)}}/>\r\n        <Text>Users</Text>\r\n        <Checkbox checked={isCheckedActivities} onPress={() => {setIsCheckedActivities(!isCheckedActivities), storeCheckData('Activities', !isCheckedActivities)}}/>\r\n        <Text>Activities</Text>\r\n        <Checkbox checked={isCheckedGroups} onPress={() => {setIsCheckedGroups(!isCheckedGroups), storeCheckData('Groups', !isCheckedGroups)}}/>\r\n        <Text>Groups</Text>\r\n\r\n        <Button flex={1} gradient={gradients.info} marginBottom={sizes.base} onPress={() => {onPressSearch()}}>\r\n          <Text white bold transform=\"uppercase\">\r\n            search\r\n          </Text>\r\n        </Button>\r\n\r\n    </Block>\r\n\r\n    {/* submit */}\r\n    <Block\r\n        scroll\r\n        showsVerticalScrollIndicator={false}\r\n        contentContainerStyle={{paddingVertical: sizes.padding}}>\r\n        <Block>\r\n          <Gallery/>\r\n        </Block>\r\n      </Block>\r\n    </Block>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}